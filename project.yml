name: XcodeGenSample
schemes:
  XcodeGenSample-UAT:
    build:
      targets:
        XcodeGenSample: all
    run:
      config: UAT-Debug
    archive:
      config: UAT-Release
  XcodeGenSample-PROD:
    build:
      targets:
        XcodeGenSample: all
    run:
      config: PROD-Debug
    archive:
      config: PROD-Release
configs:
  UAT-Debug: debug
  UAT-Release: release
  PROD-Debug: debug
  PROD-Release: release
configFiles:
  UAT-Debug: XcodeGenSample/Config/UAT-Debug.xcconfig
  UAT-Release: XcodeGenSample/Config/UAT-Release.xcconfig
  PROD-Debug: XcodeGenSample/Config/PROD-Debug.xcconfig
  PROD-Release: XcodeGenSample/Config/PROD-Release.xcconfig
settings:
  CODE_SIGN_STYLE: Manual
  ENABLE_BITCODE: false

options:
  createIntermediateGroups: true
  deploymentTarget:
    iOS: 12.0
  xcodeVersion: 14.0

targets:
  XcodeGenSample:
    info:
      path: XcodeGenSample/Config/Info.plist
      properties:
        CFBundleDevelopmentRegion: zh-hant
        UIUserInterfaceStyle: Light
        CFBundleDisplayName: $(CFG_APP_NAME)
        CFBundleShortVersionString: $(CFG_APP_VERSION)
        CFBundleVersion: $(CFG_APP_BUILD)
        UISupportedInterfaceOrientations: [UIInterfaceOrientationPortrait]
        UILaunchStoryboardName: LaunchScreen
        NSCameraUsageDescription: 請支援相機
        NSPhotoLibraryAddUsageDescription: 請支援麥克風新增相簿
        NSPhotoLibraryUsageDescription: 請支援讀取相簿
        NSLocationWhenInUseUsageDescription: 請支援GPS
        NSMicrophoneUsageDescription: 請支援麥克風
        NSSpeechRecognitionUsageDescription: 請支援語音辨識
        CfgMode: $(CFG_MODE)
        ITSAppUsesNonExemptEncryption: false
        UIApplicationSceneManifest:
          UIApplicationSupportsMultipleScenes: false
        UIBackgroundModes: [location, remote-notification]
        NSAppTransportSecurity:
          NSExceptionDomains:
            your-app-ats.exception.domain.com.tw:
              NSExceptionAllowsInsecureHTTPLoads: true
              NSIncludesSubdomains: true
    type: application
    platform: iOS
    deploymentTarget: "12.0"

    preBuildScripts:
      - path: "/bin/sh"
        script: '"$PODS_ROOT/R.swift/rswift" generate "$SRCROOT/R.generated.swift"'
        name: Generate R.swift
        basedOnDependencyAnalysis: false
        outputFiles:
          - $SRCROOT/R.generated.swift

    settings:
      base:
        INFOPLIST_FILE: XcodeGenSample/Config/Info.plist
        PRODUCT_NAME: XcodeGenSample
        TARGETED_DEVICE_FAMILY: [1, 2] #1 is iPhone, 2 is iPad
        ASSETCATALOG_COMPILER_APPICON_NAME: AppIcon
        SWIFT_OBJC_BRIDGING_HEADER: XcodeGenSample/Resources/XcodeGenSample-Bridging-Header.h
        CODE_SIGN_IDENTITY: $(CFG_CODE_SIGN_IDENTITY)
        CODE_SIGN_ENTITLEMENTS: $(CFG_CODE_SIGN_ENTITLEMENTS)
        PRODUCT_BUNDLE_IDENTIFIER: $(CFG_PRODUCT_BUNDLE_IDENTIFIER)
        PROVISIONING_PROFILE_SPECIFIER: $(CFG_PROVISIONING_PROFILE_SPECIFIER)
        DEVELOPMENT_TEAM: $(CFG_DEVELOPMENT_TEAM)
    sources:
      - path: XcodeGenSample
        name: XcodeGenSample
        type: group
      - path: ./R.generated.swift
